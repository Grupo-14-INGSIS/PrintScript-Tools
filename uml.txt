@startuml
'top to bottom direction

' ==== Core ====
rectangle token
rectangle tokendata

together {
  rectangle ast
  rectangle container
  rectangle inputprovider
  rectangle progress
  rectangle error
}

' ==== Tools ====
together {
  rectangle lexer
  rectangle parser
  rectangle interpreter
  rectangle linter
  rectangle formatter
}

' ==== Commands ====
rectangle commands

' ==== CLI ====
rectangle cli

' ==== App ====
rectangle mainapp



' ==== App ====
mainapp -right-> cli
cli -right-> commands

' ==== Commands ====
commands -down-> lexer
commands -down-> parser
commands -down-> interpreter
commands -down-> linter
commands -down-> formatter
commands -down-> progress

' ==== Tools ====
lexer -down-> container
parser -down-> container
parser -down-> ast
interpreter -down-> container
interpreter -down-> ast
interpreter -down-> inputprovider
linter -down-> container
formatter -down-> container
formatter -down-> error

' ==== Core ====
container -down-> token
token -left-> tokendata
ast -down-> tokendata
error -> container
@enduml